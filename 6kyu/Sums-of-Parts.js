/* ========== ========== ========== ========== ========== ==========*/
// https://www.codewars.com/kata/5ce399e0047a45001c853c2b
/* ========== ========== ========== ========== ========== ==========*/
/*
Sums of Parts

Description:
Let us consider this example (array written in general format):

ls = [0, 1, 3, 6, 10]

Its following parts:

ls = [0, 1, 3, 6, 10]
ls = [1, 3, 6, 10]
ls = [3, 6, 10]
ls = [6, 10]
ls = [10]
ls = []

The corresponding sums are (put together in a list): [20, 20, 19, 16, 10, 0]

The function parts_sums (or its variants in other languages) will take as parameter a list ls and return a list of the sums of its parts as defined above.
Other Examples:

ls = [1, 2, 3, 4, 5, 6] 
parts_sums(ls) -> [21, 20, 18, 15, 11, 6, 0]

ls = [744125, 935, 407, 454, 430, 90, 144, 6710213, 889, 810, 2579358]
parts_sums(ls) -> [10037855, 9293730, 9292795, 9292388, 9291934, 9291504, 9291414, 9291270, 2581057, 2580168, 2579358, 0]

Notes

    Take a look at performance: some lists have thousands of elements.
    Please ask before translating.

*/

// Solution
function partsSums(ls) {
	ls.unshift(0);
	let sum = ls.reduce((acc, curr) => acc + curr, 0);
	return ls.map((e) => (sum = sum - e));
}

// Test Codes
const dotest = (input, expected) => {
	const actual = partsSums(input);
	const equal = (a, b) => {
		if (a === b) return true;
		else if (Array.isArray(a) && Array.isArray(b)) {
			if (a.length !== b.length) return false;
			return a.every((e, i) => equal(e, b[i]));
		}
		return false;
	};
	if (equal(actual, expected)) console.log('✅Test Passed');
	else console.log('❌Test Failed');
};

dotest([], [0]);
dotest([0, 1, 3, 6, 10], [20, 20, 19, 16, 10, 0]);
dotest([1, 2, 3, 4, 5, 6], [21, 20, 18, 15, 11, 6, 0]);

dotest(
	[198767, 63752, 180571, 115882, 199207, 3149, 151101, 91556, 39382, 117150],
	[
		1160517, 961750, 897998, 717427, 601545, 402338, 399189, 248088, 156532,
		117150, 0,
	],
);

dotest(
	[19694, 183614, 199521, 155065, 6882, 125181, 130176, 105687, 47992, 81493],
	[
		1055305, 1035611, 851997, 652476, 497411, 490529, 365348, 235172, 129485,
		81493, 0,
	],
);

dotest(
	[119450, 11268, 170483, 64155, 150893, 5826, 25660, 121156],
	[668891, 549441, 538173, 367690, 303535, 152642, 146816, 121156, 0],
);

dotest(
	[
		129494, 8661, 83278, 157882, 71700, 176108, 140992, 46034, 43763, 33163,
		11459, 30943, 27364, 44541, 166148,
	],
	[
		1171530, 1042036, 1033375, 950097, 792215, 720515, 544407, 403415, 357381,
		313618, 280455, 268996, 238053, 210689, 166148, 0,
	],
);

dotest(
	[
		7461, 88792, 18254, 13036, 187505, 49921, 48327, 169546, 163058, 187330,
		160768, 165043, 35777, 140508, 147381,
	],
	[
		1582707, 1575246, 1486454, 1468200, 1455164, 1267659, 1217738, 1169411,
		999865, 836807, 649477, 488709, 323666, 287889, 147381, 0,
	],
);

let u = [
	654379, 430, 3358426, 885, 902, 96, 933, 672, 895, 7310034, 6749922, 905,
	1319962, 4238020, 722, 565, 558, 133, 48, 217, 5450103, 3383902, 966, 7294724,
	686, 3700414, 4961574, 278149, 245, 598, 381,
];
let sol = [
	48710446, 48056067, 48055637, 44697211, 44696326, 44695424, 44695328,
	44694395, 44693723, 44692828, 37382794, 30632872, 30631967, 29312005,
	25073985, 25073263, 25072698, 25072140, 25072007, 25071959, 25071742,
	19621639, 16237737, 16236771, 8942047, 8941361, 5240947, 279373, 1224, 979,
	381, 0,
];
dotest(u, sol);
